(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(42)},21:function(e,t,a){},23:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a.n(s),n=a(13),r=a.n(n),i=(a(21),a(3)),l=a.n(i),c=a(14),h=a(2);a(23);var m=class extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDown=this.handleDown.bind(this)}handleClick(){this.props.upVote(this.props.id)}handleDown(){this.props.downVote(this.props.id)}getColor(){return this.props.total>=15?"#4CAF50":this.props.total>=12?"#8BC34A":this.props.total>=9?"#CDDC39":this.props.total>=6?"#FFEB3B":this.props.total>=3?"#FFC107":this.props.total>=0?"#FF9800":"#f44336"}getEmoji(){return this.props.total>=15?"em em-rolling_on_the_floor_laughing":this.props.total>=12?"em em-laughing":this.props.total>=9?"em em-smiley":this.props.total>=6?"em em-slightly_smiling_face":this.props.total>=3?"em em-neutral_face":this.props.total>=0?"em em-confused":"em em-angry"}render(){return o.a.createElement("div",{className:"joke-container"},o.a.createElement("div",{className:"counter"},o.a.createElement("i",{className:"fas fa-arrow-up up",onClick:this.handleClick}),o.a.createElement("div",{className:"circle",style:{borderColor:this.getColor()}},this.props.total),o.a.createElement("i",{className:"fas fa-arrow-down down",onClick:this.handleDown})),o.a.createElement("div",{className:"joke-text"},this.props.value),o.a.createElement("div",{className:"emoji"},o.a.createElement("i",{className:this.getEmoji()})))}},p=a(15),d=a.n(p);a(41);var u=class extends s.Component{constructor(e){super(e),this.state={jokes:JSON.parse(localStorage.getItem("Storage")||"[]"),isLoaded:!1},this.seen=new Set(this.state.jokes.map(e=>e.joke)),this.upVote=this.upVote.bind(this),this.downVote=this.downVote.bind(this),this.clearStorage=this.clearStorage.bind(this)}upVote(e){this.setState(t=>({jokes:t.jokes.map((t,a)=>a===e?Object(h.a)(Object(h.a)({},t),{},{total:t.total+1}):t)}),()=>window.localStorage.setItem("Storage",JSON.stringify(this.state.jokes)))}downVote(e){this.setState(t=>(console.log("setstate"),{jokes:t.jokes.map((t,a)=>a===e?Object(h.a)(Object(h.a)({},t),{},{total:t.total-1}):t)}),()=>window.localStorage.setItem("Storage",JSON.stringify(this.state.jokes)))}componentDidMount(){this.state.jokes.length||this.createArr(),this.setState({isLoaded:!0})}createArr(){var e=this;return Object(c.a)(l.a.mark(function t(){var a,s,o,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=[],t.prev=1;case 2:if(!(a.length<10)){t.next=11;break}return t.next=5,d.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:s=t.sent,o=s.data,n={joke:o.joke,total:0},e.seen.has(o.joke)?console.log(o.joke):a.push(n),t.next=2;break;case 11:e.setState(e=>({jokes:[...a,...e.jokes],isLoaded:!0}),()=>localStorage.setItem("Storage",JSON.stringify(e.state.jokes))),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}},t,null,[[1,14]])}))()}clearStorage(){this.setState({isLoaded:!1},this.createArr)}render(){let e=this.state.jokes.sort((e,t)=>t.total-e.total);return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"left"},o.a.createElement("h1",null,"Dad",o.a.createElement("span",{className:"light"},"Jokes")),o.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"emoji"}),o.a.createElement("button",{className:"btn",onClick:this.clearStorage},"New Jokes")),o.a.createElement("div",{className:"rigth"},this.state.isLoaded?e.map((e,t)=>o.a.createElement(m,{key:t,id:t,value:e.joke,total:e.total,upVote:this.upVote,downVote:this.downVote})):o.a.createElement("div",{className:"loading-cont"},o.a.createElement("i",{className:"far fa-8x fa-laugh fa-spin"}),o.a.createElement("h1",{className:"loading"},"Loading"))))}};function g(){return o.a.createElement("div",{className:"App"},o.a.createElement(u,null))}const k=document.getElementById("root");r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),k)}},[[16,1,2]]]);
//# sourceMappingURL=main.627cda23.chunk.js.map