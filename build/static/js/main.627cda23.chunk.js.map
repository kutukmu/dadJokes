{"version":3,"sources":["Item.jsx","Jokes.jsx","App.js","index.js"],"names":["Item","Component","constructor","props","super","this","handleClick","bind","handleDown","upVote","id","downVote","getColor","total","getEmoji","render","react_default","a","createElement","className","onClick","style","borderColor","value","Jokes","state","jokes","JSON","parse","localStorage","getItem","isLoaded","seen","Set","map","n","joke","clearStorage","setState","prev","idx","Object","objectSpread2","window","setItem","stringify","console","log","componentDidMount","length","createArr","_this","asyncToGenerator","regenerator_default","mark","_callee","arr","res","data","jokeobj","wrap","_context","next","axios","get","headers","Accept","sent","has","push","t0","stop","sorted","sort","b","src","alt","src_Item_0","key","App","src_Jokes_0","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.627cda23.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Item.css\";\r\n\r\nclass Item extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleDown = this.handleDown.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    this.props.upVote(this.props.id);\r\n  }\r\n\r\n  handleDown() {\r\n    this.props.downVote(this.props.id);\r\n  }\r\n\r\n  getColor() {\r\n    if (this.props.total >= 15) {\r\n      return \"#4CAF50\";\r\n    } else if (this.props.total >= 12) {\r\n      return \"#8BC34A\";\r\n    } else if (this.props.total >= 9) {\r\n      return \"#CDDC39\";\r\n    } else if (this.props.total >= 6) {\r\n      return \"#FFEB3B\";\r\n    } else if (this.props.total >= 3) {\r\n      return \"#FFC107\";\r\n    } else if (this.props.total >= 0) {\r\n      return \"#FF9800\";\r\n    } else {\r\n      return \"#f44336\";\r\n    }\r\n  }\r\n  getEmoji() {\r\n    if (this.props.total >= 15) {\r\n      return \"em em-rolling_on_the_floor_laughing\";\r\n    } else if (this.props.total >= 12) {\r\n      return \"em em-laughing\";\r\n    } else if (this.props.total >= 9) {\r\n      return \"em em-smiley\";\r\n    } else if (this.props.total >= 6) {\r\n      return \"em em-slightly_smiling_face\";\r\n    } else if (this.props.total >= 3) {\r\n      return \"em em-neutral_face\";\r\n    } else if (this.props.total >= 0) {\r\n      return \"em em-confused\";\r\n    } else {\r\n      return \"em em-angry\";\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"joke-container\">\r\n        <div className=\"counter\">\r\n          <i className=\"fas fa-arrow-up up\" onClick={this.handleClick} />\r\n          <div className=\"circle\" style={{ borderColor: this.getColor() }}>\r\n            {this.props.total}\r\n          </div>\r\n\r\n          <i className=\"fas fa-arrow-down down\" onClick={this.handleDown} />\r\n        </div>\r\n        <div className=\"joke-text\">{this.props.value}</div>\r\n\r\n        <div className=\"emoji\">\r\n          <i className={this.getEmoji()} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Item;\r\n","import React, { Component } from \"react\";\r\nimport Item from \"./Item\";\r\nimport axios from \"axios\";\r\nimport \"./Jokes.css\";\r\nclass Jokes extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      jokes: JSON.parse(localStorage.getItem(\"Storage\") || \"[]\"),\r\n      isLoaded: false\r\n    };\r\n    this.seen = new Set(this.state.jokes.map(n => n.joke));\r\n\r\n    this.upVote = this.upVote.bind(this);\r\n    this.downVote = this.downVote.bind(this);\r\n    this.clearStorage = this.clearStorage.bind(this);\r\n  }\r\n\r\n  upVote(id) {\r\n    this.setState(\r\n      prev => {\r\n        return {\r\n          jokes: prev.jokes.map((n, idx) => {\r\n            if (idx === id) {\r\n              return { ...n, total: n.total + 1 };\r\n            } else {\r\n              return n;\r\n            }\r\n          })\r\n        };\r\n      },\r\n      () =>\r\n        window.localStorage.setItem(\"Storage\", JSON.stringify(this.state.jokes))\r\n    );\r\n  }\r\n  downVote(id) {\r\n    this.setState(\r\n      prev => {\r\n        console.log(\"setstate\");\r\n        return {\r\n          jokes: prev.jokes.map((n, idx) => {\r\n            if (idx === id) {\r\n              return { ...n, total: n.total - 1 };\r\n            } else {\r\n              return n;\r\n            }\r\n          })\r\n        };\r\n      },\r\n      () =>\r\n        window.localStorage.setItem(\"Storage\", JSON.stringify(this.state.jokes))\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.state.jokes.length) {\r\n      this.createArr();\r\n    }\r\n    this.setState({\r\n      isLoaded: true\r\n    });\r\n  }\r\n\r\n  async createArr() {\r\n    let arr = [];\r\n    try {\r\n      while (arr.length < 10) {\r\n        const res = await axios.get(\"https://icanhazdadjoke.com/\", {\r\n          headers: {\r\n            Accept: \"application/json\"\r\n          }\r\n        });\r\n\r\n        const data = res.data;\r\n        const jokeobj = { joke: data[\"joke\"], total: 0 };\r\n        if (!this.seen.has(data[\"joke\"])) {\r\n          arr.push(jokeobj);\r\n        } else {\r\n          console.log(data[\"joke\"]);\r\n        }\r\n      }\r\n\r\n      this.setState(\r\n        prev => {\r\n          return {\r\n            jokes: [...arr, ...prev.jokes],\r\n            isLoaded: true\r\n          };\r\n        },\r\n        () => localStorage.setItem(\"Storage\", JSON.stringify(this.state.jokes))\r\n      );\r\n    } catch (e) {}\r\n  }\r\n\r\n  clearStorage() {\r\n    this.setState(\r\n      {\r\n        isLoaded: false\r\n      },\r\n      this.createArr\r\n    );\r\n  }\r\n\r\n  render() {\r\n    let sorted = this.state.jokes.sort((a, b) => b.total - a.total);\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"left\">\r\n          <h1>\r\n            Dad<span className=\"light\">Jokes</span>\r\n          </h1>\r\n          <img\r\n            src=\"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg\"\r\n            alt=\"emoji\"\r\n          />\r\n          <button className=\"btn\" onClick={this.clearStorage}>\r\n            New Jokes\r\n          </button>\r\n        </div>\r\n        <div className=\"rigth\">\r\n          {this.state.isLoaded ? (\r\n            sorted.map((n, idx) => {\r\n              return (\r\n                <Item\r\n                  key={idx}\r\n                  id={idx}\r\n                  value={n.joke}\r\n                  total={n.total}\r\n                  upVote={this.upVote}\r\n                  downVote={this.downVote}\r\n                />\r\n              );\r\n            })\r\n          ) : (\r\n            <div className=\"loading-cont\">\r\n              <i className=\"far fa-8x fa-laugh fa-spin\" />\r\n              <h1 className=\"loading\">Loading</h1>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Jokes;\r\n","import React from \"react\";\nimport \"./styles.css\";\nimport Jokes from \"./Jokes\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Jokes />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}